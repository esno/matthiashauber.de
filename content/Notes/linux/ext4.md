# File restoration

Backup your journal

    debugfs -R "dump <8> /tmp/ext4.journal" /dev/mapper/vg0-home
    debugfs 1.45.5 (07-Jan-2020)

Umount your disk as soon as possible and do not mount nor fsck it from now on.
Check when your files were still there

    ext4magic /dev/mapper/vg0-home -H -a $(date -d "-24hours" +%s)
    Filesystem in use: /dev/mapper/vg0-home
    
    |-----------c_time  Histogram-----------------  after  --------------------  Fri Sep 10 11:01:57 2021
    1631280357 :        0 |                                                  |   Fri Sep 10 13:25:57 2021
    1631288997 :        0 |                                                  |   Fri Sep 10 15:49:57 2021
    1631297637 :        0 |                                                  |   Fri Sep 10 18:13:57 2021
    1631306277 :        1 |*                                                 |   Fri Sep 10 20:37:57 2021
    1631314917 :   125519 |**************************************************|   Fri Sep 10 23:01:57 2021
    1631323557 :        0 |                                                  |   Sat Sep 11 01:25:57 2021
    1631332197 :        0 |                                                  |   Sat Sep 11 03:49:57 2021
    1631340837 :        0 |                                                  |   Sat Sep 11 06:13:57 2021
    1631349477 :        0 |                                                  |   Sat Sep 11 08:37:57 2021
    1631358117 :        0 |                                                  |   Sat Sep 11 11:01:57 2021
    
    
    |-----------d_time  Histogram-----------------  after  --------------------  Fri Sep 10 11:01:57 2021
    1631280357 :      204 |*                                                 |   Fri Sep 10 13:25:57 2021
    1631288997 :     2642 |*                                                 |   Fri Sep 10 15:49:57 2021
    1631297637 :      639 |*                                                 |   Fri Sep 10 18:13:57 2021
    1631306277 :      447 |*                                                 |   Fri Sep 10 20:37:57 2021
    1631314917 :  1795968 |************************************************* |   Fri Sep 10 23:01:57 2021
    1631323557 :      196 |*                                                 |   Sat Sep 11 01:25:57 2021
    1631332197 :        0 |                                                  |   Sat Sep 11 03:49:57 2021
    1631340837 :        0 |                                                  |   Sat Sep 11 06:13:57 2021
    1631349477 :        0 |                                                  |   Sat Sep 11 08:37:57 2021
    1631358117 :        0 |                                                  |   Sat Sep 11 11:01:57 2021
    
    
    |-----------cr_time Histogram-----------------  after  --------------------  Fri Sep 10 11:01:57 2021
    1631280357 :     2491 |**************************************************|   Fri Sep 10 13:25:57 2021
    1631288997 :     2023 |****************************************          |   Fri Sep 10 15:49:57 2021
    1631297637 :     1742 |***********************************               |   Fri Sep 10 18:13:57 2021
    1631306277 :     2241 |*********************************************     |   Fri Sep 10 20:37:57 2021
    1631314917 :     1969 |***************************************           |   Fri Sep 10 23:01:57 2021
    1631323557 :        0 |                                                  |   Sat Sep 11 01:25:57 2021
    1631332197 :        0 |                                                  |   Sat Sep 11 03:49:57 2021
    1631340837 :        0 |                                                  |   Sat Sep 11 06:13:57 2021
    1631349477 :        0 |                                                  |   Sat Sep 11 08:37:57 2021
    1631358117 :        0 |                                                  |   Sat Sep 11 11:01:57 2021
    ext4magic : EXIT_SUCCESS

List files within this point of time

    ext4magic /dev/mapper/vg0-home -a 1631306277 -f / -l

Now restore your files

    ext4magic /dev/mapper/vg0-home -j /tmp/ext4.journal -M -d /mnt -a 1631306277
